<p>Detlev Eberhardt 27.05.2019 verwendet bei Kramer &amp; Best</p><p><br /></p><p><br /></p><div>DROP VIEW IF EXISTS topfact.css_paritystamm;</div><div>CREATE OR REPLACE ALGORITHM=UNDEFINED DEFINER=admin@localhost SQL SECURITY DEFINER VIEW topfact.css_paritystamm AS </div><div>select</div><div>	pk.kontonummer AS Ku_Lie_NR,</div><div>	concat(pd.name1,_utf8&#39; &#39;,ifnull(pd.name2,_utf8&#39;&#39;)) AS Name_001,</div><div>	concat(pd.name1,_utf8&#39; &#39;,ifnull(pd.name2,_utf8&#39;&#39;)) AS Suchwort,</div><div>	pd.name2 AS Name_002,</div><div>	ifnull(a.ort,_utf8&#39;&#39;) AS Ort,</div><div>	a.plz AS Plz,</div><div>	concat(a.strasse,_utf8&#39; &#39;,cast(a.hausnummer as char(10) charset utf8)) AS Strasse,</div><div>	NULL AS Ansprechpartner,</div><div>	pk.Mandant AS Mandant,</div><div>	NULL AS Telefonnr,</div><div>	NULL AS Faxnummer,</div><div>	NULL AS Email,</div><div>	a.name3 AS Name_003,</div><div>	a.name4 AS Name_004,</div><div>	NULL AS gegenkto,</div><div>	NULL AS Druckversion,</div><div>	NULL AS Emailversand,</div><div>	NULL AS Faxversand,</div><div>	concat(pk.kontonummer,&#39; &#39;, pd.name1,_utf8&#39; &#39;,ifnull(pd.name2,_utf8&#39; &#39;), ifnull(a.ort,_utf8&#39; &#39;),&#39; &#39;, ifnull(a.plz,&#39;&#39;), &#39; &#39;, ifnull(a.strasse,&#39; &#39;),_utf8&#39; &#39;,&#39; &#39;,cast(ifnull(a.hausnummer,&#39;&#39;) as char(10) charset utf8) ) as Auswahl,</div><div>from (((topfact.css_personendaten pd join topfact.css_pds_personenkonto pk on((pd.parent_id = pk.geschpartner_id))) join topfact.css_kontakt k on((k.geschpartner_id = pk.geschpartner_id))) join topfact.css_anschrift a on((a.anschrift_id = k.anschrift_id)));</div><div><br /></div><div><br /></div><div>tägliche Übernahme der Adressdaten aus der View in eine performante Tabelle. Abwicklung über die Aufgabenplanung:</div><div>set sql_big_selects=1;</div><div><br /></div><div><br /></div><div>delete from paritystamm;</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div>insert into paritystamm</div><div><br /></div><div><br /></div><div><br /></div><div>select * from css_paritystamm;</div><div><br /></div><div>Ausgeführt wird das Script über diesen Aufruf: D:\Scripts\StartFuelParitystamm.bat</div><div>mit diesem Inhalt</div><div>E:\MySQL\bin\mysql -u admin -pntba@1 topfact &lt; &quot;D:\Scripts\FuelParitystamm.sql&quot; &gt; &quot;D:\Scripts\FuelParitystamm.txt&quot; </div>